<div class="serial-numbers-list-container container-fluid py-4">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h2 class="fw-bold mb-1">Serial Numbers</h2>
      <p class="text-muted mb-0">Track individual items by their unique serial numbers and warranty info.</p>
    </div>
    <div class="d-flex gap-2">
      <app-unified-button variant="primary" icon="bi-plus-lg" iconLibrary="bi" (clicked)="openCreateModal()">
        Assign Serial Numbers
      </app-unified-button>
    </div>
  </div>

  <app-unified-card customClass="border-0 shadow-sm overflow-hidden">
    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="bg-light">
          <tr>
            <th>Serial Number</th>
            <th>Product</th>
            <th>Warehouse</th>
            <th>Status</th>
            <th>Warranty Until</th>
            <th>Batch</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let s of serialNumbers">
            <td><span class="fw-bold">{{s.serialNumber}}</span></td>
            <td>
              <div>{{s.productName}}</div>
              <div class="smaller text-muted">SKU: {{s.productSKU}}</div>
            </td>
            <td>{{s.warehouseName}}</td>
            <td>
              <app-badge [color]="getStatusColor(s.status)">{{s.status}}</app-badge>
            </td>
            <td>{{(s.warrantyExpiryDate | date:'mediumDate') || 'No Warranty'}}</td>
            <td>{{s.batchNumber || 'N/A'}}</td>
          </tr>
          <tr *ngIf="serialNumbers.length === 0 && !loading">
            <td colspan="6" class="text-center py-5">
              <div class="text-muted">No serial numbers found</div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </app-unified-card>

<app-assign-serial-numbers
  [show]="showAssignModal"
  (close)="showAssignModal = false"
  (saved)="loadSerialNumbers()"
></app-assign-serial-numbers>
</div>
