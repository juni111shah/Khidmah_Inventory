<button
  [type]="type"
  [class]="buttonClasses"
  [disabled]="disabled || loading"
  [title]="tooltip || ''"
  (click)="onClick($event)"
  [attr.aria-label]="tooltip || ''">
  
  <span *ngIf="loading" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
  
  <!-- Left Icon -->
  <ng-container *ngIf="!loading && icon && iconPosition === 'left'">
    <i *ngIf="iconLibrary !== 'material'" [class]="iconClass + ' me-1'"></i>
    <span *ngIf="iconLibrary === 'material'" class="me-1">{{ icon }}</span>
  </ng-container>

  <ng-content></ng-content>
  
  <!-- Right Icon -->
  <ng-container *ngIf="!loading && icon && iconPosition === 'right'">
    <i *ngIf="iconLibrary !== 'material'" [class]="iconClass + ' ms-1'"></i>
    <span *ngIf="iconLibrary === 'material'" class="ms-1">{{ icon }}</span>
  </ng-container>
</button>
