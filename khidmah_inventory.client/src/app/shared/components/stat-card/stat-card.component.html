<div class="stat-card">
  <!-- Header block: same structure as Stock Analysis (title row + subtitle) -->
  <div class="stat-card-header-block">
    <div class="stat-card-top-row">
      <h3 class="stat-title mb-0">{{ title }}</h3>
      <div class="timeframe-nav">
        <button class="timeframe-btn" [class.active]="selectedTimeFrame === 'day'" (click)="selectTimeFrame('day')">Day</button>
        <button class="timeframe-btn" [class.active]="selectedTimeFrame === 'week'" (click)="selectTimeFrame('week')">Week</button>
        <button class="timeframe-btn" [class.active]="selectedTimeFrame === 'month'" (click)="selectTimeFrame('month')">Month</button>
      </div>
    </div>
    <p class="stat-card-subtitle text-muted small mb-0" *ngIf="range || period">
      <span class="stat-range" *ngIf="range">{{ range }}</span><span *ngIf="range && period" class="stat-sep"> Â· </span><span class="stat-period" *ngIf="period">{{ period }}</span>
    </p>
  </div>

  <!-- Chart body: same padding as Stock Analysis chart area -->
  <div class="stat-card-chart-wrap">
    <div class="stat-chart" *ngIf="chartData">
      <app-chart
        type="bar"
        [data]="chartData"
        [options]="chartOptions"
        [height]="chartHeight">
      </app-chart>
    </div>
  </div>

  <!-- Footer -->
  <div class="stat-footer" *ngIf="showFullStats">
    <button class="full-stats-link" (click)="onFullStatsClick()" type="button">
      <span>Full Stats</span>
      <app-icon name="arrow_forward" class="arrow-icon"></app-icon>
    </button>
  </div>
</div>

